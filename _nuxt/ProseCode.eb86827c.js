import{g as b,n as N,q as P,v as V,x as v,y,z,A as L,B as $,C as I,r as R,o as _,c as C,t as A,i as h,D as W,E as q,a as E,b as T,w as B,d as M,_ as F}from"./entry.baa78492.js";import{u as O}from"./useCommandStore.8d20470a.js";function D(t){return P()?(V(t),!0):!1}function x(t){return typeof t=="function"?t():v(t)}const w=typeof window<"u",j=()=>{};function G(t,e,o={}){const{immediate:l=!0}=o,u=b(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function c(){u.value=!1,s()}function i(...p){s(),u.value=!0,a=setTimeout(()=>{u.value=!1,a=null,t(...p)},x(e))}return l&&(u.value=!0,w&&i()),D(c),{isPending:N(u),start:i,stop:c}}function H(t){var e;const o=x(t);return(e=o==null?void 0:o.$el)!=null?e:o}const J=w?window:void 0,K=w?window.navigator:void 0;function Q(...t){let e,o,l,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,l,u]=t,e=J):[e,o,l,u]=t,!e)return j;Array.isArray(o)||(o=[o]),Array.isArray(l)||(l=[l]);const a=[],s=()=>{a.forEach(d=>d()),a.length=0},c=(d,n,f,m)=>(d.addEventListener(n,f,m),()=>d.removeEventListener(n,f,m)),i=z(()=>[H(e),x(u)],([d,n])=>{s(),d&&a.push(...o.flatMap(f=>l.map(m=>c(d,f,m,n))))},{immediate:!0,flush:"post"}),p=()=>{i(),s()};return D(p),p}function U(){const t=b(!1);return L()&&$(()=>{t.value=!0}),t}function X(t){const e=U();return y(()=>(e.value,!!t()))}function Y(t={}){const{navigator:e=K,read:o=!1,source:l,copiedDuring:u=1500,legacy:a=!1}=t,s=X(()=>e&&"clipboard"in e),c=y(()=>s.value||a),i=b(""),p=b(!1),d=G(()=>p.value=!1,u);function n(){s.value?e.clipboard.readText().then(r=>{i.value=r}):i.value=k()}c.value&&o&&Q(["copy","cut"],n);async function f(r=x(l)){c.value&&r!=null&&(s.value?await e.clipboard.writeText(r):m(r),i.value=r,p.value=!0,d.start())}function m(r){const g=document.createElement("textarea");g.value=r??"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function k(){var r,g,S;return(S=(g=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:g.toString())!=null?S:""}return{isSupported:c,text:i,copied:p,copy:f}}const Z={class:"container"},ee={key:0,class:"filename-text"},te={class:"bottom-container"},ne={class:"copy-container mb-1"},oe={key:0,class:"copied-text"},ae=I({__name:"ProseCode",props:{code:{default:""},language:{default:null},filename:{default:null},highlights:{default:()=>[]}},setup(t){const e=t,{copy:o,copied:l,text:u}=Y(),a=O(),s={vue:{text:"vue",background:"#42b883",color:"white"},r:{text:"r",background:"#2164B6",color:"white"}},c=y(()=>{var n;return e.language?(n=s[e.language])==null?void 0:n.text:null}),i=y(()=>{var n;return e.language?(n=s[e.language])==null?void 0:n.background:null}),p=y(()=>{var n;return e.language?(n=s[e.language])==null?void 0:n.color:null});function d(){a.updateCommand(e.code.split(`
`))}return(n,f)=>{const m=R("v-btn");return _(),C("div",Z,[n.filename?(_(),C("span",ee,A(n.filename),1)):h("",!0),v(c)?(_(),C("span",{key:1,style:W({background:v(i),color:v(p)}),class:"language-text"},A(v(c)),5)):h("",!0),q(n.$slots,"default"),E("div",te,[E("div",ne,[v(l)?(_(),C("span",oe,"Copied code!")):h("",!0),T(m,{onClick:f[0]||(f[0]=k=>v(o)(n.code)),size:"x-small","prepend-icon":"mdi-content-copy"},{default:B(()=>[M("Copy Code")]),_:1}),T(m,{onClick:d,size:"x-small",color:"success","prepend-icon":"mdi-play",class:"ms-2"},{default:B(()=>[M("Run Code")]),_:1})])])])}}});const ue=F(ae,[["__scopeId","data-v-30b231a0"]]);export{ue as default};
