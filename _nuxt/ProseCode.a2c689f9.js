import{g as h,v as M,x as N,y as P,z as v,A as _,B as V,C as z,D as F,E as L,r as R,o as y,c as b,t as E,j as C,n as $,G as I,a as A,b as W,w as B,d as T,i as j,_ as G}from"./entry.3ab42fa5.js";import{u as O}from"./useCommandStore.831589a6.js";function D(t){return N()?(P(t),!0):!1}function x(t){return typeof t=="function"?t():v(t)}const k=typeof window<"u",q=()=>{};function H(t,e,o={}){const{immediate:l=!0}=o,u=h(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function c(){u.value=!1,s()}function i(...p){s(),u.value=!0,a=setTimeout(()=>{u.value=!1,a=null,t(...p)},x(e))}return l&&(u.value=!0,k&&i()),D(c),{isPending:M(u),start:i,stop:c}}function J(t){var e;const o=x(t);return(e=o==null?void 0:o.$el)!=null?e:o}const K=k?window:void 0,Q=k?window.navigator:void 0;function U(...t){let e,o,l,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,l,u]=t,e=K):[e,o,l,u]=t,!e)return q;Array.isArray(o)||(o=[o]),Array.isArray(l)||(l=[l]);const a=[],s=()=>{a.forEach(d=>d()),a.length=0},c=(d,n,f,m)=>(d.addEventListener(n,f,m),()=>d.removeEventListener(n,f,m)),i=V(()=>[J(e),x(u)],([d,n])=>{s(),d&&a.push(...o.flatMap(f=>l.map(m=>c(d,f,m,n))))},{immediate:!0,flush:"post"}),p=()=>{i(),s()};return D(p),p}function X(){const t=h(!1);return z()&&F(()=>{t.value=!0}),t}function Y(t){const e=X();return _(()=>(e.value,!!t()))}function Z(t={}){const{navigator:e=Q,read:o=!1,source:l,copiedDuring:u=1500,legacy:a=!1}=t,s=Y(()=>e&&"clipboard"in e),c=_(()=>s.value||a),i=h(""),p=h(!1),d=H(()=>p.value=!1,u);function n(){s.value?e.clipboard.readText().then(r=>{i.value=r}):i.value=w()}c.value&&o&&U(["copy","cut"],n);async function f(r=x(l)){c.value&&r!=null&&(s.value?await e.clipboard.writeText(r):m(r),i.value=r,p.value=!0,d.start())}function m(r){const g=document.createElement("textarea");g.value=r??"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function w(){var r,g,S;return(S=(g=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:g.toString())!=null?S:""}return{isSupported:c,text:i,copied:p,copy:f}}const ee={class:"container"},te={key:0,class:"filename-text"},ne={class:"bottom-container"},oe={class:"copy-container mb-1"},ae={key:0,class:"copied-text"},se=L({__name:"ProseCode",props:{code:{default:""},language:{default:null},filename:{default:null},highlights:{default:()=>[]},meta:{default:null}},setup(t){const e=t,{copy:o,copied:l,text:u}=Z(),a=O(),s={vue:{text:"vue",background:"#42b883",color:"white"},r:{text:"r",background:"#2164B6",color:"white"},bash:{text:"bash",background:"#3E474A",color:"white"},python:{text:"py",background:"linear-gradient(to bottom right, #2F6E9D, #F6D652)",color:"white"}},c=_(()=>{var n;return e.language?(n=s[e.language])==null?void 0:n.text:null}),i=_(()=>{var n;return e.language?(n=s[e.language])==null?void 0:n.background:null}),p=_(()=>{var n;return e.language?(n=s[e.language])==null?void 0:n.color:null});function d(){a.updateCommand(e.code)}return(n,f)=>{const m=R("v-btn");return y(),b("div",ee,[n.filename?(y(),b("span",te,E(n.filename),1)):C("",!0),v(c)?(y(),b("span",{key:1,style:$({background:v(i),color:v(p)}),class:"language-text"},E(v(c)),5)):C("",!0),I(n.$slots,"default"),A("div",ne,[A("div",oe,[v(l)?(y(),b("span",ae,"Copied code!")):C("",!0),W(m,{onClick:f[0]||(f[0]=w=>v(o)(n.code)),size:"x-small","prepend-icon":"mdi-content-copy"},{default:B(()=>[T("Copy Code")]),_:1}),n.meta!="noRun"?(y(),j(m,{key:1,onClick:d,size:"x-small",color:"success","prepend-icon":"mdi-play",class:"ms-2"},{default:B(()=>[T("Run Code")]),_:1})):C("",!0)])])])}}});const re=G(se,[["__scopeId","data-v-b4f33b90"]]);export{re as default};
