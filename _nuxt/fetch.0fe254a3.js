import{h as k}from"./index.cd32510b.js";import{D as c,C as D,b1 as F,h as $}from"./entry.85fce134.js";function E(o,r,y){const[t={},i]=typeof r=="string"?[{},r]:[r,y],s=t.key||k([i,c(t.baseURL),typeof o=="string"?o:"",c(t.params||t.query)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);if(!o)throw new Error("[nuxt] [useFetch] request is missing.");const p=s===i?"$f"+s:s,a=D(()=>{let n=o;return typeof n=="function"&&(n=n()),c(n)});if(!t.baseURL&&typeof a.value=="string"&&a.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:l,lazy:m,default:w,transform:b,pick:d,watch:f,immediate:g,...v}=t,u=F({...v,cache:typeof t.cache=="boolean"?void 0:t.cache}),_={server:l,lazy:m,default:w,transform:b,pick:d,immediate:g,watch:f===!1?[]:[u,a,...f||[]]};let e;return $(p,()=>{var h;return(h=e==null?void 0:e.abort)==null||h.call(e),e=typeof AbortController<"u"?new AbortController:{},typeof a.value=="string"&&a.value.startsWith("/"),(t.$fetch||globalThis.$fetch)(a.value,{signal:e.signal,...u})},_)}export{E as u};
