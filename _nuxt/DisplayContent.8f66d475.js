import B from"./ContentRendererMarkdown.53ff1444.js";import L from"./ContentRenderer.0c740295.js";import{_ as S,m as q,q as k,i as x,r as d,o as _,f,w as a,b as n,a as y,t as m,j as v,d as p,y as F}from"./entry.85fce134.js";import{q as C}from"./query.37f779ca.js";import{u as g}from"./index.853b8c0b.js";const N={async setup(e){const t=q();let h=t.params.lang;const s=k(t.query.id?t.query.id:"");var r=k(t.query.step?t.query.step:0);const c=t.path,u=t.path+s.value,o=await C(u).find();for(var i=o.length-1;i>=0;i--)(o[i]._path==u+"_dir"||o[i]._path==u+"/_dir")&&o.splice(i,1);return console.log(o),{contentFolder:await C("/"+h).find(),tutosList:o,pathParent:c,path:u,id:s,step:r,lang:h}},mounted(){const t=g("my-progression-store",{},localStorage,{mergeDefaults:!0});this.path in t.value?this.step=t.value[this.path].step:t.value[this.path]={status:"started",step:0},this.data=this.tutosList[this.step]},data(){return{data:""}},methods:{async updateState(){const t=g("my-progression-store",{},localStorage,{mergeDefaults:!0});t.value[this.path]={status:"started",step:this.step}},restart(){this.step=0,this.data=this.tutosList[this.step];var e=document.getElementById("contentDiv");e.scrollTop=0,this.updateState()},async nextBtn(){if(this.step<this.tutosList.length){this.step=this.step+1,this.data=this.tutosList[this.step];var e=document.getElementById("contentDiv");e.scrollTop=0,this.updateState()}},async prevBtn(){if(this.step>0){this.step=this.step-1,this.data=this.tutosList[this.step];var e=document.getElementById("contentDiv");e.scrollTop=0,this.updateState()}},async finish(){const t=g("my-progression-store",{},localStorage,{mergeDefaults:!0});t.value[this.path]={status:"finish",step:this.step},x().push({path:"/language/"+this.lang})}},watch:{step(e){x().push({path:this.pathParent,query:{id:this.id,step:this.step}})}}},E={class:"prose",id:"contentDiv"},I=y("br",null,null,-1);function R(e,t,h,s,r,c){const u=B,o=L,i=d("v-card-text"),l=d("v-btn"),D=d("v-icon"),b=d("v-card-actions"),w=d("v-card");return _(),f(w,{class:"fill-height",style:{width:"100%"}},{default:a(()=>[n(i,{class:"fill-height overflow-y-auto",style:{"max-height":"calc(100% - 50px)"}},{default:a(()=>[y("div",E,[r.data?(_(),f(o,{value:r.data,key:r.data._path},{default:a(()=>[y("h1",null,m(r.data.title),1),I,n(u,{value:r.data.body},null,8,["value"])]),_:1},8,["value"])):v("",!0)])]),_:1}),n(b,{class:"d-flex justify-end",style:{"background-color":"lightsteelblue"}},{default:a(()=>[n(l,{disabled:s.step==0,onClick:c.prevBtn},{default:a(()=>[p("Prev")]),_:1},8,["disabled","onClick"]),s.step!=s.tutosList.length-1?(_(),f(l,{key:0,disabled:s.step==s.tutosList.length-1,onClick:c.nextBtn,class:"me-2"},{default:a(()=>[p("Next")]),_:1},8,["disabled","onClick"])):v("",!0),s.step==s.tutosList.length-1?(_(),f(l,{key:1,onClick:c.finish,class:"me-2 px-4",color:"success",variant:"flat","prepend-icon":"mdi-party-popper"},{default:a(()=>[p("Finish")]),_:1},8,["onClick"])):v("",!0),n(l,{onClick:c.restart,class:"me-2"},{default:a(()=>[n(D,null,{default:a(()=>[p("mdi-restart")]),_:1})]),_:1},8,["onClick"]),n(l,{class:"bg-primary rounded-pill lighten-4 mx-4",variant:"flat",href:"https://github.com/IFB-ElixirFr/Wasm4Learn/discussions",target:"_blank"},{default:a(()=>[p("Help ")]),_:1}),n(l,{onClick:t[0]||(t[0]=F(T=>e.drawer=!e.drawer,["stop"])),class:"rounded-pill",variant:"tonal"},{default:a(()=>[p(m(s.step+1)+" / "+m(s.tutosList.length),1)]),_:1})]),_:1})]),_:1})}const W=S(N,[["render",R]]);export{W as _};
