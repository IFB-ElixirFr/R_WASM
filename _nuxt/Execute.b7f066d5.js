import{_,m as h,s as p,r as f,o as s,c as i,b as g,w as u,d as m,f as C,j as r,a as d,t as y,F as x}from"./entry.85fce134.js";import{u as k}from"./useCommandStore.0bc2297b.js";import{a as v}from"./ace.61508a3f.js";import"./mode-r.c1dbfb09.js";const w={props:{command:String,test:String,readOnly:{default:!1,type:Boolean}},setup(l){const o=k();let n=h().params.lang;var e=new Date().valueOf();e="editorArea"+e;const{resultTestChanged:t}=p(o);return{store:o,id:e,resultTestChanged:t,lang:n}},data(){return{testResult:null,editor:null}},mounted(){this.editor=v.edit(this.id,{mode:"ace/mode/r",tabSize:4,readOnly:this.readOnly,autoScrollEditorIntoView:!0,maxLines:50,minLines:1})},methods:{action(){this.store.updateCommand(this.editor.getValue())},async testCode(){this.lang=="r"&&(await this.store.updateCommand(this.editor.getValue()),await this.store.updateCommandTest(this.test.split(`
`),this.id))}},watch:{resultTestChanged(l){this.store.resultTestChanged&&this.id==this.store.testID&&(this.testResult=this.store.resultTest,this.store.reset())}}},b=["id"],T={key:1},R=d("b",null,"🎉 Well done !",-1),V=[R],S={key:2},B=d("b",null,"❌ It's not the good response...",-1),N=[B];function O(l,o,a,n,e,t){const c=f("v-btn");return s(),i(x,null,[g(c,{onClick:t.action,size:"x-small",color:"success","prepend-icon":"mdi-play",class:"mb-2"},{default:u(()=>[m("Run code")]),_:1},8,["onClick"]),a.test?(s(),C(c,{key:0,onClick:t.testCode,size:"x-small","prepend-icon":"mdi-cog-play",class:"mb-2 ms-2"},{default:u(()=>[m("Test my code")]),_:1},8,["onClick"])):r("",!0),d("div",{id:n.id,style:{width:"100%",height:"200px"}},y(a.command),9,b),e.testResult===!0?(s(),i("p",T,V)):r("",!0),e.testResult===!1?(s(),i("p",S,N)):r("",!0)],64)}const F=_(w,[["render",O]]);export{F as default};
